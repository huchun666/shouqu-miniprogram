# 首驱电动车微信小程序

一款功能完整的电动车智能管理微信小程序，提供远程控制、智能管理、行程记录等核心功能。

## 功能特性

### 🚗 远程车辆控制
- **远程解锁/启动**：通过手机远程解锁和启动车辆
- **实时状态查看**：随时查看车辆电量、续航、速度等实时信息
- **智能寻车与防盗**：查看车辆位置，车辆异动时推送报警

### 🧠 智能管理与交互
- **智能行程记录**：自动记录并回看骑行轨迹、里程、时长等数据
- **远程车辆设置**：调节大灯、设置定速巡航、开关坐垫感应等
- **导航功能**：支持车辆位置导航

### 🎯 实用工具与生态
- **智能电池管理**：查看电池健康状态，接收充电异常等安全提醒
- **社交与售后服务**：车友社区、服务网点查询、在线报修等

## 项目架构

### 目录结构
```
mini-program/
├── pages/              # 页面目录
│   ├── index/         # 首页
│   ├── vehicle/       # 车辆相关页面
│   │   ├── control/   # 车辆控制
│   │   ├── status/    # 车辆状态
│   │   └── find/       # 寻车
│   ├── trip/          # 行程相关
│   ├── settings/      # 设置相关
│   ├── battery/       # 电池管理
│   ├── community/     # 社区
│   ├── service/       # 售后服务
│   └── profile/       # 个人中心
├── services/          # 服务层（API调用）
├── stores/            # 状态管理
├── utils/             # 工具类
│   ├── request.js     # 网络请求封装
│   ├── storage.js     # 本地存储
│   ├── logger.js      # 日志系统
│   ├── ui.js          # UI工具函数
│   └── format.js      # 格式化工具
├── types/             # 类型定义
├── constants/         # 常量定义
├── app.js            # 小程序入口
├── app.json          # 小程序配置
└── app.wxss          # 全局样式
```

### 架构设计

#### 1. 分层架构
- **页面层（Pages）**：负责UI展示和用户交互
- **服务层（Services）**：封装API调用，处理业务逻辑
- **状态管理层（Stores）**：管理应用全局状态
- **工具层（Utils）**：提供通用工具函数

#### 2. 核心模块

**网络请求模块（utils/request.js）**
- 统一的请求拦截和响应拦截
- 自动处理token和错误码
- 支持请求重试和超时处理

**状态管理（stores/）**
- 基于观察者模式的简单状态管理
- 支持状态订阅和通知
- 车辆状态自动轮询

**服务层（services/）**
- 按业务模块划分服务
- 统一的错误处理
- 支持Promise和async/await

#### 3. 设计模式
- **单例模式**：Store实例、Logger实例
- **观察者模式**：状态管理
- **策略模式**：错误处理策略

## 开发指南

### 环境要求
- 微信开发者工具
- Node.js（如需要）

### 配置说明

1. **修改API地址**
   - 编辑 `utils/request.js` 中的 `BASE_URL`

2. **配置小程序AppID**
   - 编辑 `project.config.json` 中的 `appid`

3. **配置页面路径**
   - 编辑 `app.json` 中的 `pages` 和 `tabBar`

### 开发规范

1. **代码规范**
   - 使用ES6+语法
   - 统一使用async/await处理异步
   - 组件和页面使用PascalCase命名

2. **文件命名**
   - 页面文件：小写字母，多个单词用连字符
   - 工具文件：小写字母，多个单词用连字符
   - 组件文件：PascalCase

3. **注释规范**
   - 函数和类需要添加注释
   - 复杂逻辑需要添加行内注释

## 功能模块说明

### 车辆控制模块
- 支持远程解锁/锁定
- 支持远程启动/停止
- 实时状态监控
- 智能寻车功能

### 行程记录模块
- 自动记录行程数据
- 行程轨迹回放
- 统计数据展示

### 车辆设置模块
- 大灯亮度调节
- 定速巡航设置
- 坐垫感应开关

### 电池管理模块
- 电池状态监控
- 健康度评估
- 充电提醒

## 注意事项

1. **API接口**：需要对接实际的后端API
2. **图标资源**：需要准备相应的图标资源文件
3. **地图功能**：需要配置地图相关权限
4. **推送功能**：需要配置消息推送服务

## 后续优化

- [ ] 添加单元测试
- [ ] 性能优化
- [ ] 添加错误监控
- [ ] 完善文档
- [ ] 添加国际化支持

## 许可证

MIT License
